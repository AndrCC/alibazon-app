function cov_8w7otmk2u(){var path="C:\\Users\\andre\\Documents\\Andre\\OSF\\alibazon-app\\app\\controllers\\auth.js";var hash="685dde2a412293475d342d89c8c219a7e056cbbd";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\andre\\Documents\\Andre\\OSF\\alibazon-app\\app\\controllers\\auth.js",statementMap:{"0":{start:{line:1,column:21},end:{line:1,column:52}},"1":{start:{line:2,column:19},end:{line:2,column:48}},"2":{start:{line:3,column:37},end:{line:3,column:65}},"3":{start:{line:4,column:13},end:{line:4,column:28}},"4":{start:{line:5,column:27},end:{line:5,column:57}},"5":{start:{line:8,column:0},end:{line:10,column:1}},"6":{start:{line:9,column:4},end:{line:9,column:67}},"7":{start:{line:12,column:0},end:{line:22,column:3}},"8":{start:{line:13,column:19},end:{line:13,column:40}},"9":{start:{line:14,column:4},end:{line:16,column:5}},"10":{start:{line:15,column:8},end:{line:15,column:63}},"11":{start:{line:18,column:24},end:{line:18,column:46}},"12":{start:{line:19,column:4},end:{line:19,column:43}},"13":{start:{line:20,column:4},end:{line:20,column:22}},"14":{start:{line:24,column:0},end:{line:26,column:1}},"15":{start:{line:25,column:4},end:{line:25,column:67}},"16":{start:{line:28,column:0},end:{line:38,column:3}},"17":{start:{line:29,column:19},end:{line:29,column:40}},"18":{start:{line:30,column:4},end:{line:32,column:5}},"19":{start:{line:31,column:8},end:{line:31,column:63}},"20":{start:{line:34,column:24},end:{line:34,column:46}},"21":{start:{line:35,column:4},end:{line:35,column:43}},"22":{start:{line:36,column:4},end:{line:36,column:22}},"23":{start:{line:41,column:0},end:{line:50,column:1}},"24":{start:{line:42,column:19},end:{line:42,column:21}},"25":{start:{line:43,column:4},end:{line:48,column:5}},"26":{start:{line:44,column:23},end:{line:44,column:46}},"27":{start:{line:45,column:8},end:{line:45,column:24}},"28":{start:{line:46,column:25},end:{line:46,column:49}},"29":{start:{line:47,column:8},end:{line:47,column:52}},"30":{start:{line:49,column:4},end:{line:49,column:79}},"31":{start:{line:53,column:0},end:{line:56,column:1}},"32":{start:{line:54,column:4},end:{line:54,column:35}},"33":{start:{line:55,column:4},end:{line:55,column:22}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:8,column:20},end:{line:8,column:21}},loc:{start:{line:8,column:40},end:{line:10,column:1}},line:8},"1":{name:"(anonymous_1)",decl:{start:{line:12,column:34},end:{line:12,column:35}},loc:{start:{line:12,column:54},end:{line:22,column:1}},line:12},"2":{name:"(anonymous_2)",decl:{start:{line:24,column:20},end:{line:24,column:21}},loc:{start:{line:24,column:40},end:{line:26,column:1}},line:24},"3":{name:"(anonymous_3)",decl:{start:{line:28,column:34},end:{line:28,column:35}},loc:{start:{line:28,column:54},end:{line:38,column:1}},line:28},"4":{name:"(anonymous_4)",decl:{start:{line:41,column:18},end:{line:41,column:19}},loc:{start:{line:41,column:32},end:{line:50,column:1}},line:41},"5":{name:"(anonymous_5)",decl:{start:{line:53,column:17},end:{line:53,column:18}},loc:{start:{line:53,column:31},end:{line:56,column:1}},line:53}},branchMap:{"0":{loc:{start:{line:14,column:4},end:{line:16,column:5}},type:"if",locations:[{start:{line:14,column:4},end:{line:16,column:5}},{start:{line:14,column:4},end:{line:16,column:5}}],line:14},"1":{loc:{start:{line:30,column:4},end:{line:32,column:5}},type:"if",locations:[{start:{line:30,column:4},end:{line:32,column:5}},{start:{line:30,column:4},end:{line:32,column:5}}],line:30},"2":{loc:{start:{line:43,column:4},end:{line:48,column:5}},type:"if",locations:[{start:{line:43,column:4},end:{line:48,column:5}},{start:{line:43,column:4},end:{line:48,column:5}}],line:43}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0},b:{"0":[0,0],"1":[0,0],"2":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"685dde2a412293475d342d89c8c219a7e056cbbd"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_8w7otmk2u=function(){return actualCoverage;};}return actualCoverage;}cov_8w7otmk2u();const asyncWrapper=(cov_8w7otmk2u().s[0]++,require('../util/asyncWrapper'));const getDirname=(cov_8w7otmk2u().s[1]++,require('../util/getDirname'));const{validationResult,Result}=(cov_8w7otmk2u().s[2]++,require('express-validator'));const path=(cov_8w7otmk2u().s[3]++,require('path'));const{signUp,signIn}=(cov_8w7otmk2u().s[4]++,require('../services/authApi'));//Sign In and Sign Up Controllers
cov_8w7otmk2u().s[5]++;exports.getSignUp=(req,res,next)=>{cov_8w7otmk2u().f[0]++;cov_8w7otmk2u().s[6]++;res.render(path.join(getDirname(),'views','auth','signup'));};cov_8w7otmk2u().s[7]++;exports.postSignUp=asyncWrapper(async(req,res)=>{cov_8w7otmk2u().f[1]++;const errors=(cov_8w7otmk2u().s[8]++,validationResult(req));cov_8w7otmk2u().s[9]++;if(!errors.isEmpty()){cov_8w7otmk2u().b[0][0]++;cov_8w7otmk2u().s[10]++;return res.status(400).json({erros:errors.array()});}else{cov_8w7otmk2u().b[0][1]++;}const accountInfo=(cov_8w7otmk2u().s[11]++,await signUp(req.body));cov_8w7otmk2u().s[12]++;res.cookie('accountInfo',accountInfo);cov_8w7otmk2u().s[13]++;res.redirect('/');});cov_8w7otmk2u().s[14]++;exports.getSignIn=(req,res,next)=>{cov_8w7otmk2u().f[2]++;cov_8w7otmk2u().s[15]++;res.render(path.join(getDirname(),'views','auth','signin'));};cov_8w7otmk2u().s[16]++;exports.postSignIn=asyncWrapper(async(req,res)=>{cov_8w7otmk2u().f[3]++;const errors=(cov_8w7otmk2u().s[17]++,validationResult(req));cov_8w7otmk2u().s[18]++;if(!errors.isEmpty()){cov_8w7otmk2u().b[1][0]++;cov_8w7otmk2u().s[19]++;return res.status(400).json({erros:errors.array()});}else{cov_8w7otmk2u().b[1][1]++;}const accountInfo=(cov_8w7otmk2u().s[20]++,await signIn(req.body));cov_8w7otmk2u().s[21]++;res.cookie('accountInfo',accountInfo);cov_8w7otmk2u().s[22]++;res.redirect('/');});//User Controller
cov_8w7otmk2u().s[23]++;exports.getUser=(req,res)=>{cov_8w7otmk2u().f[4]++;let userInfo=(cov_8w7otmk2u().s[24]++,{});cov_8w7otmk2u().s[25]++;if(req.cookies.accountInfo){cov_8w7otmk2u().b[2][0]++;let{user}=(cov_8w7otmk2u().s[26]++,req.cookies.accountInfo);cov_8w7otmk2u().s[27]++;userInfo=user;const tempDate=(cov_8w7otmk2u().s[28]++,new Date(user.createdAt));cov_8w7otmk2u().s[29]++;userInfo.createdAt=tempDate.toDateString();}else{cov_8w7otmk2u().b[2][1]++;}cov_8w7otmk2u().s[30]++;res.render(path.join(getDirname(),'views','auth','user'),{userInfo});};//Logout Controller
cov_8w7otmk2u().s[31]++;exports.logout=(req,res)=>{cov_8w7otmk2u().f[5]++;cov_8w7otmk2u().s[32]++;res.clearCookie('accountInfo');cov_8w7otmk2u().s[33]++;res.redirect('/');};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGguanMiXSwibmFtZXMiOlsiYXN5bmNXcmFwcGVyIiwicmVxdWlyZSIsImdldERpcm5hbWUiLCJ2YWxpZGF0aW9uUmVzdWx0IiwiUmVzdWx0IiwicGF0aCIsInNpZ25VcCIsInNpZ25JbiIsImV4cG9ydHMiLCJnZXRTaWduVXAiLCJyZXEiLCJyZXMiLCJuZXh0IiwicmVuZGVyIiwiam9pbiIsInBvc3RTaWduVXAiLCJlcnJvcnMiLCJpc0VtcHR5Iiwic3RhdHVzIiwianNvbiIsImVycm9zIiwiYXJyYXkiLCJhY2NvdW50SW5mbyIsImJvZHkiLCJjb29raWUiLCJyZWRpcmVjdCIsImdldFNpZ25JbiIsInBvc3RTaWduSW4iLCJnZXRVc2VyIiwidXNlckluZm8iLCJjb29raWVzIiwidXNlciIsInRlbXBEYXRlIiwiRGF0ZSIsImNyZWF0ZWRBdCIsInRvRGF0ZVN0cmluZyIsImxvZ291dCIsImNsZWFyQ29va2llIl0sIm1hcHBpbmdzIjoibXJJQWVZO3lGQWZaLEtBQU1BLENBQUFBLFlBQVkseUJBQUdDLE9BQU8sQ0FBQyxzQkFBRCxDQUFWLENBQWxCLENBQ0EsS0FBTUMsQ0FBQUEsVUFBVSx5QkFBR0QsT0FBTyxDQUFDLG9CQUFELENBQVYsQ0FBaEIsQ0FDQSxLQUFNLENBQUVFLGdCQUFGLENBQW9CQyxNQUFwQiwwQkFBK0JILE9BQU8sQ0FBQyxtQkFBRCxDQUF0QyxDQUFOLENBQ0EsS0FBTUksQ0FBQUEsSUFBSSx5QkFBR0osT0FBTyxDQUFDLE1BQUQsQ0FBVixDQUFWLENBQ0EsS0FBTSxDQUFFSyxNQUFGLENBQVVDLE1BQVYsMEJBQXFCTixPQUFPLENBQUMscUJBQUQsQ0FBNUIsQ0FBTixDQUVBO3VCQUNBTyxPQUFPLENBQUNDLFNBQVIsQ0FBb0IsQ0FBQ0MsR0FBRCxDQUFNQyxHQUFOLENBQVdDLElBQVgsR0FBb0IsK0NBQ3BDRCxHQUFHLENBQUNFLE1BQUosQ0FBV1IsSUFBSSxDQUFDUyxJQUFMLENBQVVaLFVBQVUsRUFBcEIsQ0FBd0IsT0FBeEIs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QUMxQixHQUFELENBQU1DLEdBQU4sR0FBYyxnREFDM0JBLEdBQUcsQ0FBQzBCLFdBQUosQ0FBZ0IsYUFBaEIsRUFEMkIsd0JBRTNCMUIsR0FBRyxDQUFDYyxRQUFKLENBQWEsR0FBYixFQUNILENBSEQiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBhc3luY1dyYXBwZXIgPSByZXF1aXJlKCcuLi91dGlsL2FzeW5jV3JhcHBlcicpO1xyXG5jb25zdCBnZXREaXJuYW1lID0gcmVxdWlyZSgnLi4vdXRpbC9nZXREaXJuYW1lJyk7XHJcbmNvbnN0IHsgdmFsaWRhdGlvblJlc3VsdCwgUmVzdWx0IH0gPSByZXF1aXJlKCdleHByZXNzLXZhbGlkYXRvcicpO1xyXG5jb25zdCBwYXRoID0gcmVxdWlyZSgncGF0aCcpO1xyXG5jb25zdCB7IHNpZ25VcCwgc2lnbkluIH0gPSByZXF1aXJlKCcuLi9zZXJ2aWNlcy9hdXRoQXBpJyk7XHJcblxyXG4vL1NpZ24gSW4gYW5kIFNpZ24gVXAgQ29udHJvbGxlcnNcclxuZXhwb3J0cy5nZXRTaWduVXAgPSAocmVxLCByZXMsIG5leHQpID0+IHtcclxuICAgIHJlcy5yZW5kZXIocGF0aC5qb2luKGdldERpcm5hbWUoKSwgJ3ZpZXdzJywgJ2F1dGgnLCAnc2lnbnVwJykpO1xyXG59XHJcblxyXG5leHBvcnRzLnBvc3RTaWduVXAgPSBhc3luY1dyYXBwZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCBlcnJvcnMgPSB2YWxpZGF0aW9uUmVzdWx0KHJlcSk7XHJcbiAgICBpZiAoIWVycm9ycy5pc0VtcHR5KCkpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvczogZXJyb3JzLmFycmF5KCkgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgYWNjb3VudEluZm8gPSBhd2FpdCBzaWduVXAocmVxLmJvZHkpO1xyXG4gICAgcmVzLmNvb2tpZSgnYWNjb3VudEluZm8nLCBhY2NvdW50SW5mbyk7XHJcbiAgICByZXMucmVkaXJlY3QoJy8nKTtcclxuXHJcbn0pO1xyXG5cclxuZXhwb3J0cy5nZXRTaWduSW4gPSAocmVxLCByZXMsIG5leHQpID0+IHtcclxuICAgIHJlcy5yZW5kZXIocGF0aC5qb2luKGdldERpcm5hbWUoKSwgJ3ZpZXdzJywgJ2F1dGgnLCAnc2lnbmluJykpO1xyXG59XHJcblxyXG5leHBvcnRzLnBvc3RTaWduSW4gPSBhc3luY1dyYXBwZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCBlcnJvcnMgPSB2YWxpZGF0aW9uUmVzdWx0KHJlcSk7XHJcbiAgICBpZiAoIWVycm9ycy5pc0VtcHR5KCkpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvczogZXJyb3JzLmFycmF5KCkgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgYWNjb3VudEluZm8gPSBhd2FpdCBzaWduSW4ocmVxLmJvZHkpO1xyXG4gICAgcmVzLmNvb2tpZSgnYWNjb3VudEluZm8nLCBhY2NvdW50SW5mbyk7XHJcbiAgICByZXMucmVkaXJlY3QoJy8nKTtcclxuXHJcbn0pO1xyXG5cclxuLy9Vc2VyIENvbnRyb2xsZXJcclxuZXhwb3J0cy5nZXRVc2VyID0gKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBsZXQgdXNlckluZm8gPSB7fTtcclxuICAgIGlmIChyZXEuY29va2llcy5hY2NvdW50SW5mbykge1xyXG4gICAgICAgIGxldCB7IHVzZXIgfSA9IHJlcS5jb29raWVzLmFjY291bnRJbmZvO1xyXG4gICAgICAgIHVzZXJJbmZvID0gdXNlcjtcclxuICAgICAgICBjb25zdCB0ZW1wRGF0ZSA9IG5ldyBEYXRlKHVzZXIuY3JlYXRlZEF0KTtcclxuICAgICAgICB1c2VySW5mby5jcmVhdGVkQXQgPSB0ZW1wRGF0ZS50b0RhdGVTdHJpbmcoKVxyXG4gICAgfVxyXG4gICAgcmVzLnJlbmRlcihwYXRoLmpvaW4oZ2V0RGlybmFtZSgpLCAndmlld3MnLCAnYXV0aCcsICd1c2VyJyksIHsgdXNlckluZm8gfSk7XHJcbn1cclxuXHJcbi8vTG9nb3V0IENvbnRyb2xsZXJcclxuZXhwb3J0cy5sb2dvdXQgPSAocmVxLCByZXMpID0+IHtcclxuICAgIHJlcy5jbGVhckNvb2tpZSgnYWNjb3VudEluZm8nKTtcclxuICAgIHJlcy5yZWRpcmVjdCgnLycpO1xyXG59Il19